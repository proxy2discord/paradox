local screenGui = script.Parent
local frame = screenGui:FindFirstChild("Frame")
local antiAfkToggle = frame and frame:FindFirstChild("AntiAfkToggle")

if not antiAfkToggle then
    warn("AntiAfkToggle n'a pas été trouvé dans Frame.")
    return
end

local antiAfkEnabled = false

local function toggleAntiAfk()
    antiAfkEnabled = not antiAfkEnabled
    antiAfkToggle.Text = antiAfkEnabled and "Anti-AFK : Activé" or "Anti-AFK : Désactivé"
end

local function antiAfkLoop()
    local virtualUser = game:GetService("VirtualUser")
    if not virtualUser then
        warn("VirtualUser service introuvable.")
        return
    end

    while true do
        if antiAfkEnabled then
            virtualUser:Button2Down(Vector2.new(0, 0), workspace.CurrentCamera.CFrame)
            wait(1)
            virtualUser:Button2Up(Vector2.new(0, 0), workspace.CurrentCamera.CFrame)
        end
        wait(900)
    end
end

antiAfkToggle.MouseButton1Click:Connect(toggleAntiAfk)
spawn(antiAfkLoop)
