local screenGui = script.Parent
local frame = screenGui:FindFirstChild("Frame")
if not frame then
    warn("Frame introuvable dans ScreenGui.")
    return
end

local antiAfkToggle = frame:FindFirstChild("AntiAfkToggle")
if not antiAfkToggle then
    warn("AntiAfkToggle introuvable dans Frame.")
    return
end

local antiAfkEnabled = false

local function toggleAntiAfk()
    antiAfkEnabled = not antiAfkEnabled
    antiAfkToggle.Text = antiAfkEnabled and "Anti-AFK : Activé" or "Anti-AFK : Désactivé"
end

local function antiAfkLoop()
    local virtualUser = game:GetService("VirtualUser")
    if not virtualUser then
        warn("Service VirtualUser introuvable.")
        return
    end

    while true do
        if antiAfkEnabled then
            virtualUser:Button2Down(Vector2.new(0, 0), workspace.CurrentCamera.CFrame)
            wait(1)
            virtualUser:Button2Up(Vector2.new(0, 0), workspace.CurrentCamera.CFrame)
        end
        wait(900)
    end
end

antiAfkToggle.MouseButton1Click:Connect(toggleAntiAfk)
task.spawn(antiAfkLoop)
